!function(e){"use strict";e.fn.selectify=function(t={}){t=e.extend({},{search:!0,languages:{not_found:"Nothing found.",placeholder:"Search ..."}},t||{});const l=[];return e(this).each((function(n,s){let c={name:e(s).attr("name")||"",selector:e(s),config:t,selected:[],multiple:!!e(s).attr("multiple"),options:[],results:[],utils:{trimString:function(e){for(var t=0,l=e.length-1;t<e.length&&" "==e[t];)t++;for(;l>t&&" "==e[l];)l-=1;return e.substring(t,l+1)},compareObjects:function(e,t){var l="";for(l in e)if(e[l]!=t[l])return!1;for(l in t)if(e[l]!=t[l])return!1;return!0},itemExists:function(e,t){for(var l=0;l<e.length;l++)if(c.utils.compareObjects(e[l],t))return!0;return!1},onSelectChange:function(){c.selected=[],c.multiple?e(c.selector.val()).each((function(e,t){c.selected.push(t)})):c.selected.push(c.selector.val()),c.render()},onHTMLChange:function(){let t=Array.isArray(c.selector.val())?c.selector.val():[c.selector.val()];e(t).each((function(e,t){c.selected.push(t)})),!c.multiple&&c.selected.length>0&&(c.selected=[c.selected[c.selected.length-1]]),c.render()},registerEvents:function(){c.selector.next().find(".selectify-option").unbind("click").click((function(t){let l=e(this).attr("data-value"),n=c.selected.indexOf(l);n>=0?c.selected.splice(n,1):c.multiple?c.selected.push(l):c.selected=[l],c.selector.val(c.selected),c.render()}))}},render:function(){c.selector.next().find(".select-area").find(".selectify-option, .selectify-alert").remove(),c.results.length?e(c.results).each((function(e,t){c.selected.includes(t.value)?c.selector.next().find(".select-area").find(".selectify-options").append('<div class="selectify-option selected" data-value="'+t.value+'"><input name="'+c.name+'Checkbox[]" type="'+(c.multiple?"checkbox":"radio")+'" value="'+t.value+'" checked>'+t.name+(t.count?'<small class="selectify-option-count">'+t.count+"</small>":"")+"</div>"):c.selector.next().find(".select-area").find(".selectify-options").append('<div class="selectify-option" data-value="'+t.value+'"><input name="'+c.name+'Checkbox[]" type="'+(c.multiple?"checkbox":"radio")+'" value="'+t.value+'">'+t.name+(t.count?'<small class="selectify-option-count">'+t.count+"</small>":"")+"</div>")})):c.selector.next().find(".select-area").append('<div class="selectify-alert">'+t.languages.not_found+"</div>"),c.utils.registerEvents()}};c.selector.addClass("hide"),c.selector.after('<div class="selectify-wrapper"></div>'),c.selector.next().append('<div class="select-area"></div>'),c.config.search&&c.selector.next().find(".select-area").append('<input class="select-search" placeholder="'+c.config.languages.placeholder+'">'),c.selector.next().find(".select-area").append('<div class="selectify-options"></div>'),c.options=c.selector.find("option[value]"),e(c.options).each((function(t,l){c.results.push({name:e(l).text(),value:e(l).val(),count:e(l).attr("data-count")}),e(l).attr("selected")&&c.selected.push(e(l).val())})),c.selector.next().find(".select-search").keyup((function(){c.results=[];let t=c.utils.trimString(e(this).val());e(c.options).each((function(l,n){-1==e(n).attr("value").indexOf(t)&&-1==e(n).text().indexOf(t)||c.results.push({name:e(n).text(),value:e(n).val(),count:e(n).attr("data-count")})})),c.render()})),c.selector.change((function(){c.utils.onSelectChange()})),c.render(),l.push(c)})),l}}(jQuery);